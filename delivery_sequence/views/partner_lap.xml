<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <!-- delivery_sequence.partner_lap -->
  <record id="partner_lap_tree" model="ir.ui.view">
    <field name="name">delivery_sequence.partner_lap.tree</field>
    <field name="model">delivery_sequence.partner_lap</field>
    <field name="arch" type="xml">
      <tree string="Listado de productos por vuelta" create="false">
        <field name="partner_id" string="Cliente" attrs="{'readonly': [('id', '>', 0)]}" required="1" />
        <field name="team_name" string="Ruta" />
        <field name="stored_sequence" string="Orden" />
        <field name="lap_id" string="Vuelta" attrs="{'readonly': [('id', '>', 0)]}" required="1" />
        <field name="day" string="Día" attrs="{'readonly': [('id', '>', 0)]}" required="1" />
        <field name="holiday" attrs="{'readonly': [('id', '>', 0)]}" string="Feriado?" />
        <field name="partner_lap_product_ids" string="Productos en vuelta" />
      </tree>
    </field>
  </record>

  <record id="partner_lap_form" model="ir.ui.view">
    <field name="name">delivery_sequence.partner_lap.form</field>
    <field name="model">delivery_sequence.partner_lap</field>
    <field name="arch" type="xml">
      <form string="Listado de productos por vueltaZ" create="false">
        <sheet>
          <group>
            <group>
              <field name="partner_id" string="Cliente" attrs="{'readonly': [('id', '>', 0)]}" domain="[('is_company', '=', True)]" required="1" />
              <field name="team_name" string="Ruta" />
              <field name="stored_sequence" string="Orden" />
              <field name="lap_id" string="Vuelta" attrs="{'readonly': [('id', '>', 0)]}" required="1" />
              <field name="day" string="Día" attrs="{'readonly': [('id', '>', 0)]}" required="1" />
              <field name="holiday"  attrs="{'readonly': [('id', '>', 0)]}" string="Feriado?" />
              <field name="partner_lap_product_ids" string="Productos en vuelta">
                <tree editable="bottom">

                  <field name="product_id" string='Producto'  />

                  <field name="quantity"  string='Cantidad' />
                </tree>
              </field>
            </group>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <!-- Actions -->

  <record id="partner_lap_action_window" model="ir.actions.act_window">
    <field name="name">Lista de vueltas por cliente</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">delivery_sequence.partner_lap</field>
    <field name="view_mode">tree,kanban,form</field>
    <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
            Create your first Lap!
        </p>
    </field>
  </record>


  <!-- Top menu item -->

  <menuitem id="delivery_sequence_root_menu"
    name="Reparto" />

  <!-- menu categories -->

  <menuitem id="delivery_sequence_manager_menu"
    name="Administrar"
    parent="delivery_sequence_root_menu" />

  <!-- actions -->

  <menuitem id="delivery_sequence_partner_lap_list_menu"
    name="Lista de vueltas por cliente"
    parent="delivery_sequence_manager_menu"
    action="partner_lap_action_window"
    sequence="1" />

</odoo>